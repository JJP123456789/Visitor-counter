<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Visitor Counter Test</title>
</head>
<body style="font-family:sans-serif;text-align:center;padding-top:100px;">

  <h2>👁️ Visitors: <span id="visit-count">Loading...</span></h2>

  <script>
    const namespace = "jishnujp";      // Use your exact ID
    const key = "portfolio";           // Use your exact key

    const updateUrl = `https://api.countapi.xyz/update/${namespace}/${key}/?amount=1`;
    const getUrl = `https://api.countapi.xyz/get/${namespace}/${key}`;

    // Optional localStorage to avoid re-counting
    if (!localStorage.getItem("hasVisited")) {
      fetch(updateUrl)
        .then(() => localStorage.setItem("hasVisited", true));
    }

    // Display the latest count
    fetch(getUrl)
      .then(res => res.json())
      .then(data => {
        document.getElementById("visit-count").innerText = data.value;
      })
      .catch(err => {
        document.getElementById("visit-count").innerText = "N/A";
        console.error("Fetch error:", err);
      });
  </script>

</body>
</html>
